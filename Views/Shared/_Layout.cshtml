
    @*<head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>@ViewData["Title"] - SchoolManagement</title>
        <link rel="stylesheet" href="~/lib/bootstrap/dist/css/bootstrap.min.css" />
        <link rel="stylesheet" href="~/css/site.css" />
    </head>*@


<!DOCTYPE html>
<html lang="en">

<!-- Mirrored from preschool.dreamstechnologies.com/template/index.html by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 26 Nov 2024 10:29:11 GMT -->
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=0">
    <title>Preskool - Dashboard</title>

    <!-- Favicon -->
    <link rel="shortcut icon" href="~/template/assets/img/favicon.png">

    <!-- Fontfamily -->
    <link href="~/lib/Genral.css" rel="stylesheet" />
    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="~/template/assets/css/bootstrap.min.css">
    <link href="~/template/~/template/assets/css/bootstrap.min.css" rel="stylesheet" />
    <!-- Feathericon CSS -->

    <link rel="stylesheet" href="~/template/assets/plugins/feather/feather.css">

    <!-- Pe7 CSS -->
    <link rel="stylesheet" href="~/template/assets/plugins/icons/flags/flags.css">

    <!-- Fontawesome CSS -->
    <link rel="stylesheet" href="~/template/assets/plugins/fontawesome/css/fontawesome.min.css">
    <link rel="stylesheet" href="~/template/assets/plugins/fontawesome/css/all.min.css">

    <!-- Main CSS -->
    <link rel="stylesheet" href="~/template/assets/css/style.css">
    <link href="~/template/assets/sweetalert/css/sweetalert.css" rel="stylesheet" />

    <link href="~/template/assets/plugins/select2/css/select2.min.css" rel="stylesheet" />

    <style>
        .loading {
            background-color: #ffffff;
            background-image: url("../../template/assets/img/copied/lodinGif.gif");
            background-size: 25px 25px;
            background-position: right center;
            background-repeat: no-repeat;
        }

        .notfound {
            background-color: #ffffff;
            background-image: url("../../template/assets/img/copied/noutfoundgif.gif");
            background-size: 25px 25px;
            background-position: right center;
            background-repeat: no-repeat;
        }

        .checked {
            background-color: #ffffff;
            background-image: url("../../template/assets/img/copied/checked.gif");
            background-size: 25px 25px;
            background-position: right center;
            background-repeat: no-repeat;
        }

        .page-loader {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
            z-index: 9999;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .loader {
            border: 4px solid #f3f3f3;
            border-top: 4px solid #ff6347;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            animation: spin 1s linear infinite;
        }

        @@keyframes spin {
            0% {
                transform: rotate(0deg);
            }

            100% {
                transform: rotate(360deg);
            }
        }
    </style>
</head>
<body>

    <!-- Modal -->
    <div class="modal fade" id="InfoModel" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="exampleModalLongTitle">Creator Info</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body" id="InfoModelBody">

                </div>

            </div>
        </div>
    </div>
    <div class="modal fade bd-example-modal-lg" id="AModel" tabindex="-1" role="dialog" aria-labelledby="myLargeModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-body" id="AModelBody">
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                    <button type="button" class="btn btn-success" onclick="printDiv()"><i class="fa fa-print"></i> Print</button>
                </div>
            </div>
        </div>
    </div>
    <div class="modal fade bd-example-modal-lg" id="A4Model_" tabindex="-1" role="dialog" aria-labelledby="myLargeModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-body" id="A4ModelBody_">
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                    <button type="button" class="btn btn-success" onclick="printDiv()"><i class="fa fa-print"></i> Print</button>
                </div>
            </div>
        </div>
    </div>
    <div id="" class="page-loader" style="display:none">
        <div class="loader"></div>
    </div>
    <!-- Main Wrapper -->
    <div class="main-wrapper">

        <!-- Header -->
        <div class="header">

            <!-- Logo -->
            <div class="header-left">
                <a asp-action="index" asp-controller="home" class="logo">
                    <img src="~/template/assets/img/logo.png" alt="Logo">
                </a>
                <a href="index.html" class="logo logo-small">
                    <img src="~/template/assets/img/logo-small.png" alt="Logo" width="30" height="30">
                </a>
            </div>
            <!-- /Logo -->

            <div class="menu-toggle">
                <a href="javascript:void(0);" id="toggle_btn">
                    <i class="fas fa-bars"></i>
                </a>
            </div>

            <!-- Search Bar -->
            <div class="top-nav-search">
                <form>
                    <input type="text" class="form-control" placeholder="Search here">
                    <button class="btn" type="submit"><i class="fas fa-search"></i></button>
                </form>
            </div>
            <!-- /Search Bar -->
            <!-- Mobile Menu Toggle -->
            <a class="mobile_btn" id="mobile_btn">
                <i class="fas fa-bars"></i>
            </a>
            <!-- /Mobile Menu Toggle -->
            <!-- Header Right Menu -->
            <ul class="nav user-menu">
                @*<li class="nav-item dropdown noti-dropdown language-drop me-2">
                        <a href="#" class="dropdown-toggle nav-link header-nav-list" data-bs-toggle="dropdown">
                            <img src="~/template/assets/img/icons/header-icon-01.svg" alt="">
                        </a>
                        <div class="dropdown-menu ">
                            <div class="noti-content">
                                <div>
                                    <a class="dropdown-item" href="javascript:;"><i class="flag flag-lr me-2"></i>English</a>
                                    <a class="dropdown-item" href="javascript:;"><i class="flag flag-bl me-2"></i>Francais</a>
                                    <a class="dropdown-item" href="javascript:;"><i class="flag flag-cn me-2"></i>Turkce</a>
                                </div>
                            </div>
                        </div>
                    </li>*@
                <!-- Notifications -->
                <li class="nav-item dropdown noti-dropdown me-2">
                    <a href="#" class="dropdown-toggle nav-link header-nav-list" data-bs-toggle="dropdown">
                        <img src="~/template/assets/img/icons/header-icon-05.svg" alt="">
                        <small class="text-danger" id="notificationsCount"></small>
                    </a>

                    <div class="dropdown-menu notifications">
                        <div class="topnav-dropdown-header">
                            <span class="notification-title">Notifications</span>
                            @*<a href="javascript:void(0)" class="clear-noti"> Clear All </a>*@
                        </div>
                        <div class="noti-content" id="myNotifications">
                            @Html.Partial("_Notification", new List<SchoolManagement.Models.db.Notice>())
                        </div>
                        <div class="topnav-dropdown-footer">
                            <a asp-action="Index" asp-controller="Notices">View all Notifications</a>
                        </div>
                    </div>
                </li>
                <!-- /Notifications -->
                <li class="nav-item zoom-screen me-2">
                    <a href="#" class="nav-link header-nav-list win-maximize">
                        <img src="~/template/assets/img/icons/header-icon-04.svg" alt="">
                    </a>
                </li>

                <!-- User Menu -->
                <li class="nav-item dropdown has-arrow new-user-menus">
                    <a href="#" class="dropdown-toggle nav-link" data-bs-toggle="dropdown">
                        <div class="user-img">


                            @{ // Get the Base64 string image from user claims
                                string image = User.Claims.FirstOrDefault(x => x.Type == "profile")?.Value;

                                //string base64Image = Convert.ToBase64String(image.ToString());


                                if (@User.Identity.Name == null)
                                {

                                }

                            }



                            <img class="rounded-circle" src="@string.Format("data:image/jpeg;base64,{0}", image)" width="31" alt="@User.Claims.FirstOrDefault(x => x.Type == "Name")?.Value">


                            <div class="user-text">
                                <h6>@User.Identity.Name</h6>
                                <p class="text-muted mb-0">  @User.Claims.Where(x => x.Type == "Role").Select(x => x.Value).FirstOrDefault()</p>
                            </div>
                        </div>
                    </a>
                    <div class="dropdown-menu">
                        <div class="user-header">
                            <div class="avatar avatar-sm">
                                <img class="rounded-circle" src="@string.Format("data:image/jpeg;base64,{0}", image)" width="31" alt="@User.Claims.FirstOrDefault(x => x.Type == "Name")?.Value">
                            </div>
                            <div class="user-text">
                                <h6>@User.Identity.Name</h6>
                                <p class="text-muted mb-0">
                                    @User.Claims.FirstOrDefault(x => x.Type == "Role")?.Value;
                                </p>
                            </div>
                        </div>
                        @if (@User.Claims.FirstOrDefault(x => x.Type == "Role").Value == "Teacher")
                        {
                            <a asp-action="Details" asp-controller="Teachers" asp-route-id="@User.Claims.FirstOrDefault(x=>x.Type=="userId").Value" class="dropdown-item">My Profile</a>

                        }
                        else if (@User.Claims.FirstOrDefault(x => x.Type == "Role").Value == "Student")
                        {
                            <a asp-action="Details" asp-controller="Students" asp-route-id="@User.Claims.FirstOrDefault(x=>x.Type=="userId").Value" class="dropdown-item">My Profile</a>
                        }
                        else
                        {
                            <a asp-action="Profile" asp-controller="Account" asp-route-id="@User.Claims.FirstOrDefault(x=>x.Type=="userId").Value" class="dropdown-item">My Profile</a>
                        }

                        <a class="dropdown-item" asp-action="Index" asp-controller="Notices">Inbox</a>
                        <a class="dropdown-item" asp-action="LogOut" asp-controller="Account">Logout</a>
                    </div>
                </li>
                <!-- /User Menu -->

            </ul>
            <!-- /Header Right Menu -->

        </div>
        <!-- /Header -->
        <!-- Sidebar -->
        <div class="sidebar" id="sidebar">
            <div class="sidebar-inner slimscroll">
                <div id="sidebar-menu" class="sidebar-menu">
                    <ul>
                        <li class="menu-title">
                            <span>Main Menu</span>

                        </li>
                        <li class="submenu @(ViewContext.RouteData.Values["controller"].ToString().Equals("Home") ? "active" : "")">

                            <a href="#"><i class="feather-grid"></i> <span> Dashboard</span> <span class="menu-arrow"></span></a>

                            <ul>
                                <li class="submenu"><a @(ViewContext.RouteData.Values["controller"].ToString().Equals("Home") && ViewContext.RouteData.Values["action"].ToString().Equals("Index") ? "class=active" : "") asp-action="Index">Admin Dashboard</a></li>
                                <li><a asp-action="Teacher" asp-controller="Home">Teacher Dashboard</a></li>
                                <li><a asp-action="Student">Student Dashboard</a></li>
                            </ul>
                        </li>
                        <li class="submenu">
                            <a href="#"><i class="fas fa-graduation-cap"></i> <span> Students</span> <span class="menu-arrow"></span></a>
                            <ul>
                                <li><a asp-action="index" asp-controller="students">Student List</a></li>
                                <li><a asp-action="create" asp-controller="students">Student Add</a></li>
                                <li><a asp-action="Index" asp-controller="AttendanceLogs">Student Attandance</a></li>
                                <li><a asp-action="pass" asp-controller="students">Student Pass</a></li>

                            </ul>
                        </li>
                        <li class="submenu">
                            <a href="#"><i class="fas fa-chalkboard-teacher"></i> <span> Teachers</span> <span class="menu-arrow"></span></a>
                            <ul>
                                <li><a asp-action="index" asp-controller="Teachers">Teacher List</a></li>

                                <li><a asp-action="Create" asp-controller="Teachers">Teacher Add</a></li>

                            </ul>
                        </li>


                        <li class="submenu @(ViewContext.RouteData.Values["controller"].ToString().Equals("Payments") ? "active" : "")">
                            <a href="#">
                                <i class="fas fa-receipt"></i> <span> Payment</span> <span class="menu-arrow"></span>
                            </a>

                            <ul>

                                <li> <a href='@Url.Action("Index","Payments", new { })' @(ViewContext.RouteData.Values["controller"].ToString().Equals("Payments") && ViewContext.RouteData.Values["action"].ToString().Equals("Index") ? "class=active" : "")>Payments List</a></li>

                                @*<li><a asp-action="index" asp-controller="payments" @(ViewContext.RouteData.Values["action"].ToString().Equals("Copmany") ? "class=active" : "" ) />Payment List</a></li>*@
                                <li><a href='@Url.Action("create","Payments", new { })' @(ViewContext.RouteData.Values["controller"].ToString().Equals("Payments") && ViewContext.RouteData.Values["action"].ToString().Equals("Create") ? "class=active" : "")>Payment Add</a></li>

                            </ul>
                        </li>
                        <li class="submenu">
                            <a href="#"><i class="fas fa-building"></i> <span> Class</span> <span class="menu-arrow"></span></a>
                            <ul>
                                <li><a asp-action="index" asp-controller="classes">Class List</a></li>
                                <li><a asp-action="create" asp-controller="classes">Class Add</a></li>

                            </ul>
                        </li>
                        <li class="submenu">
                            <a href="#"><i class="fas fa-book-reader"></i> <span> Subjects</span> <span class="menu-arrow"></span></a>
                            <ul>
                                <li><a asp-action="index" asp-controller="Subjects">Subject List</a></li>
                                <li><a asp-action="create" asp-controller="Subjects">Subject Add</a></li>
                                <li><a asp-action="Assign" asp-controller="Subjects">Assign</a></li>
                            </ul>
                        </li>
                        <li class="submenu">
                            <a href="#"><i class="fas fa-table"></i> <span> Time Table</span> <span class="menu-arrow"></span></a>
                            <ul>
                                <li><a asp-action="index" asp-controller="Schedules">Schedual List</a></li>
                                <li><a asp-action="create" asp-controller="Schedules">Schedual Add</a></li>

                            </ul>
                        </li>
                        <li class="submenu">
                            <a href="#"><i class="fas fa-clipboard-list"></i> <span> Exames</span> <span class="menu-arrow"></span></a>
                            <ul>
                                <li><a asp-action="index" asp-controller="Exams">Exam List</a></li>
                                <li><a asp-action="create" asp-controller="Exams">Exam Add</a></li>

                            </ul>
                        </li>
                        <li class="submenu">
                            <a href="#"><i class="fas fa-clipboard"></i> <span> Invoices</span> <span class="menu-arrow"></span></a>
                            <ul>
                                <li><a href="invoices.html">Invoices List</a></li>
                                <li><a href="invoice-grid.html">Invoices Grid</a></li>
                                <li><a href="add-invoice.html">Add Invoices</a></li>
                                <li><a href="edit-invoice.html">Edit Invoices</a></li>
                                <li><a href="view-invoice.html">Invoices Details</a></li>
                                <li><a href="invoices-settings.html">Invoices Settings</a></li>
                            </ul>
                        </li>
                        <li class="menu-title">
                            <span>Management</span>
                        </li>

                        <li class="submenu">
                            <a href="#"><i class="fas fa-file-invoice-dollar"></i> <span> Accounts</span> <span class="menu-arrow"></span></a>
                            <ul>
                                <li><a asp-controller="Fees" asp-action="Index">Fees Collection</a></li>
                                <li><a href="expenses.html">Expenses</a></li>
                                <li><a href="salary.html">Salary</a></li>
                                <li><a asp-controller="Fees" asp-action="Create"> Add Fees</a></li>
                                <li><a href="add-expenses.html">Add Expenses</a></li>
                                <li><a href="add-salary.html">Add Salary</a></li>
                            </ul>
                        </li>
                        <li class="submenu">
                            <a href="#"><i class="fas fa-calendar-day"></i> <span> Events</span> <span class="menu-arrow"></span></a>

                            <ul>
                                <li><a asp-action="List" asp-controller="Events">Events List</a></li>
                                <li><a asp-action="Create" asp-controller="Events">Create Event</a></li>
                                <li><a asp-action="Details" asp-controller="Events">Calender</a></li>

                            </ul>
                        </li>
                        <li class="submenu">
                            <a @(ViewContext.RouteData.Values["controller"].ToString().Equals("Events") ? "class=active" : "") href="#"><i class="fa fa-fingerprint"></i> <span> Attendance</span> <span class="menu-arrow"></span></a>

                            <ul>
                                <li><a @(ViewContext.RouteData.Values["controller"].ToString().Equals("Events") && ViewContext.RouteData.Values["action"].ToString().Equals("index") ? "class=active" : "") asp-action="List" asp-controller="AttendanceLogs">Events List</a></li>
                                <li><a @(ViewContext.RouteData.Values["controller"].ToString().Equals("Events") && ViewContext.RouteData.Values["action"].ToString().Equals("Create") ? "class=active" : "") asp-action="Create" asp-controller="AttendanceLogs">Create Event</a></li>

                            </ul>
                        </li>

                        <li>
                            <a asp-controller="Holidays" asp-action="Create"><i class="fas fa-holly-berry"></i> <span>Holiday</span></a>
                        </li>



                        <li>
                            <a asp-action="Create" asp-controller="Books"><i class="fas fa-book"></i> <span>Library</span></a>
                        </li>
                        <li class="submenu">
                            <a href="#">
                                <i class="fa fa-newspaper"></i> <span> Blogs</span>
                                <span class="menu-arrow"></span>
                            </a>
                            <ul>
                                <li><a asp-controller="blogs" asp-action="index">All Blogs</a></li>
                                <li><a asp-controller="blogs" asp-action="create">Add Blog</a></li>

                            </ul>
                        </li>
                        <li>
                            <a href="settings.html"><i class="fas fa-cog"></i> <span>Settings</span></a>
                        </li>
                        <li class="menu-title">
                            <span>Pages</span>
                        </li>

                        <li class="submenu">
                            <a href="#"><i class="fas fa-shield-alt"></i> <span> Authenticpation </span> <span class="menu-arrow"></span></a>
                            <ul>
                                <li><a asp-action="Index" asp-controller="TblUsers">Login</a></li>
                                <li><a href="register.html">Register</a></li>
                                <li><a href="forgot-password.html">Forgot Password</a></li>
                                <li><a href="error-404.html">Error Page</a></li>
                            </ul>
                        </li>
                        <li>
                            <a href="blank-page.html"><i class="fas fa-file"></i> <span>Blank Page</span></a>
                        </li>

                        <li class="menu-title">
                            <span>Others</span>
                        </li>
                        <li class="submenu active">
                            <a href="#"><i class="fas fa-note-sticky"></i> <span> Notice </span> <span class="menu-arrow"></span></a>
                            <ul>
                                <li><a asp-action="Index" asp-controller="Notices">List Notice</a></li>
                                <li><a asp-action="Create" asp-controller="Notices">Add Notice </a></li>


                            </ul>
                        </li>
                        <li class="submenu">
                            <a href="#"><i class="fas fa-store"></i> <span> Inventory </span> <span class="menu-arrow"></span></a>
                            <ul>
                                <li><a asp-action="Index" asp-controller="Inventories">List Items</a></li>
                                <li><a asp-action="Create" asp-controller="Inventories">Add Items </a></li>


                            </ul>
                        </li>
                        <li class="submenu">
                            <a href="#"><i class="fas fa-baseball-ball"></i> <span> Sports </span> <span class="menu-arrow"></span></a>
                            <ul>
                                <li><a asp-action="Index" asp-controller="Sports">List Sports</a></li>
                                <li><a asp-action="Create" asp-controller="Sports">Create Sport</a></li>


                            </ul>
                        </li>
                        <li class="submenu">
                            <a href="#"><i class="fas fa-hotel"></i> <span> Hostel </span> <span class="menu-arrow"></span></a>
                            <ul>
                                <li><a asp-action="Index" asp-controller="Hostels">List Hostels</a></li>
                                <li><a asp-action="Create" asp-controller="Hostels">Create Hostel</a></li>


                            </ul>
                        </li>

                        <li>
                            <a href="transport.html"><i class="fas fa-bus"></i> <span>Transport</span></a>
                        </li>
                        <li class="menu-title">
                            <span>UI Interface</span>
                        </li>

                    </ul>
                </div>
            </div>
        </div>
        <!-- /Sidebar -->
        <!-- Page Wrapper -->
        <div class="page-wrapper">

            <div class="content container-fluid">
                @RenderBody()

            </div>

            <!-- Footer -->
            <footer>
                <p>COPYRIGHT © 2024 - @DateTime.Now.Year HADAF.</p>
            </footer>
            <!-- /Footer -->

        </div>
        <!-- /Page Wrapper -->



    </div>
    <!-- /Main Wrapper -->
    <!-- jQuery -->
    @*<script src="~/template/assets/js/jquery-3.7.1.min.js" type="c437656adcf261e14fc51405-text/javascript"></script>*@
    <script src="~/js/jQuery JavaScript Library v3.7.1.js"></script>
    <script src="~/template/assets/plugins/select2/js/select2.min.js" type="f4c59587db699f42642ee9f4-text/javascript"></script>

    <!-- Bootstrap Core JS -->
    <script src="~/template/assets/js/bootstrap.bundle.min.js" type="c437656adcf261e14fc51405-text/javascript"></script>

    <!-- Feather Icon JS -->
    <script src="~/template/assets/js/feather.min.js" type="c437656adcf261e14fc51405-text/javascript"></script>

    <!-- Slimscroll JS -->
    <script src="~/template/assets/plugins/slimscroll/jquery.slimscroll.min.js" type="c437656adcf261e14fc51405-text/javascript"></script>

    <!-- Chart JS -->
    <script src="~/template/assets/plugins/apexchart/apexcharts.min.js" type="c437656adcf261e14fc51405-text/javascript"></script>
    <script src="~/template/assets/plugins/apexchart/chart-data.js" type="c437656adcf261e14fc51405-text/javascript"></script>

    <!-- Custom JS -->
    <script src="~/template/assets/js/script.js" type="c437656adcf261e14fc51405-text/javascript"></script>
    <script src="~/template/assets/sweetalert/js/sweetalert.min.js"></script>
    <script src="~/js/Unobtrusive Ajax.js"></script>
    <script src="~/lib/jquery-validation-unobtrusive/jquery.validate.unobtrusive.min.js"></script>
    <script src="~/template/assets/js/form-validation.js"></script>


    <script src="../cdn-cgi/scripts/7d0fa10a/cloudflare-static/rocket-loader.min.js" data-cf-settings="c437656adcf261e14fc51405-|49" defer></script>
    <script src="~/template/assets/js/form-validation.js" type="8fd9cd6760df466b51b89013-text/javascript"></script>


    @RenderSection("scripts", required: false)
    @*<script type="text/javascript">

            $(document).ready(function () {

                alert();
            });
        </script>*@

    <script>
        var created;
        $(document).ready(function () {

            UpdateNotifications()
            setInterval(function () {
                UpdateNotifications();
            }, 300000); // Refresh every 5 minutes (300,000 milliseconds)
        });

        function UpdateNotifications() {

            $.ajax({
                type: "GET",
                url: "/Home/GetNotifications",
                data: '{}',
                contentType: "application/json; charset=utf-8",
                dataType: "html",
                success: function (response) {


                    $('#myNotifications').html(response);




                },
                failure: function (response) {
                    alert(response.d);
                }
            });
        }
    </script>
    <script>
        // This code empowers all input tags having a placeholder and data-slots attribute
        document.addEventListener('DOMContentLoaded', () => {
            for (const el of document.querySelectorAll("[placeholder][data-slots]")) {
                const pattern = el.getAttribute("placeholder"),
                    slots = new Set(el.dataset.slots || "_"),
                    prev = (j => Array.from(pattern, (c, i) => slots.has(c) ? j = i + 1 : j))(0),
                    first = [...pattern].findIndex(c => slots.has(c)),
                    accept = new RegExp(el.dataset.accept || "\\d", "g"),
                    clean = input => {
                        input = input.match(accept) || [];
                        return Array.from(pattern, c =>
                            input[0] === c || slots.has(c) ? input.shift() || c : c
                        );
                    },
                    format = () => {
                        const [i, j] = [el.selectionStart, el.selectionEnd].map(i => {
                            i = clean(el.value.slice(0, i)).findIndex(c => slots.has(c));
                            return i < 0 ? prev.at(-1) : back ? prev[i - 1] || first : i;
                        });
                        el.value = clean(el.value).join("");
                        el.setSelectionRange(i, j);
                        back = false;
                    };
                let back = false;
                el.addEventListener("keydown", (e) => back = e.key === "Backspace");
                el.addEventListener("input", format);
                el.addEventListener("focus", format);
                el.addEventListener("blur", () => el.value === pattern && (el.value = ""));
            }
        });



    </script>


</body>

<!-- Mirrored from preschool.dreamstechnologies.com/template/index.html by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 26 Nov 2024 10:30:37 GMT -->
</html>
